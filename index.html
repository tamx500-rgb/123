<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¦Š ç‹å‡è™å¨ï¼šèªè©è‡ªæˆ‘ç·´ç¿’</title>
    <style>
        body {
            font-family: "Microsoft JhengHei", "PingFang TC", sans-serif;
            background-color: #eef2f3;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            touch-action: manipulation; /* å„ªåŒ–è§¸æ§é«”é©— */
        }

        h1 {
            color: #2c3e50;
            margin: 10px 0;
            font-size: 1.5rem;
        }

        /* å¡ç‰‡ä¸»é«” */
        .card {
            background: white;
            width: 90%;
            max-width: 600px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 30px 20px;
            text-align: center;
            position: relative;
            margin-bottom: 20px;
            transition: transform 0.3s;
        }

        /* é€²åº¦æ¢ */
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background-color: #3498db;
            width: 0%;
            transition: width 0.3s ease;
        }
        .status-text {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 15px;
        }

        /* ç™¼éŸ³æŒ‰éˆ• */
        .audio-btn {
            background-color: #f39c12;
            color: white;
            border: none;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            font-size: 32px;
            cursor: pointer;
            margin: 0 auto 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.15);
            transition: transform 0.1s;
        }
        .audio-btn:active {
            transform: scale(0.95);
            background-color: #d35400;
        }

        /* é¡Œç›®å€å¡Š */
        .section-title {
            font-size: 1rem;
            color: #95a5a6;
            text-transform: uppercase;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .content-text {
            font-size: 1.3rem;
            color: #2c3e50;
            line-height: 1.6;
            font-weight: bold;
            min-height: 3em; /* ä¿æŒé«˜åº¦é¿å…è·³å‹• */
        }

        .sentence-box {
            background-color: #f8f9fa;
            border-left: 5px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-size: 1.2rem;
            text-align: left;
            color: #34495e;
        }

        /* æŒ–ç©ºæ¨£å¼ */
        .blank {
            display: inline-block;
            min-width: 80px;
            border-bottom: 3px solid #2c3e50;
            color: transparent;
            text-align: center;
            padding: 0 5px;
        }

        /* ç­”æ¡ˆæ­æ›‰æ¨£å¼ */
        .revealed {
            color: #e74c3c !important;
            border-bottom: none;
            font-weight: bold;
            animation: popIn 0.3s ease;
        }
        
        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* æ§åˆ¶æŒ‰éˆ•å€ */
        .controls {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 15px;
            font-size: 1.1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-show {
            background-color: #27ae60;
            color: white;
        }
        .btn-show:hover { background-color: #2ecc71; }

        .btn-nav {
            background-color: #bdc3c7;
            color: #2c3e50;
        }
        .btn-nav:hover { background-color: #aab7b8; }
        
        /* éš±è—å…ƒç´  */
        .hidden { display: none; }

    </style>
</head>
<body>

    <h1>ğŸ¦Š èªè©è‡ªæˆ‘ç·´ç¿’</h1>

    <div class="card">
        <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        <div class="status-text">é¡Œç›® <span id="currentNum">1</span> / <span id="totalNum">10</span></div>

        <button class="audio-btn" onclick="playAudio()" title="æ’­æ”¾ç™¼éŸ³">ğŸ”Š</button>

        <div class="section-title">è§£é‡‹</div>
        <div class="content-text" id="defText">è¼‰å…¥ä¸­...</div>

        <div class="section-title">ä¾‹å¥å¡«ç©º</div>
        <div class="sentence-box" id="sentenceText">
            è¼‰å…¥ä¸­...
        </div>

        <div id="answerArea" class="hidden">
            <div class="section-title" style="color: #e74c3c;">æ­£ç¢ºç­”æ¡ˆ</div>
            <div class="content-text" style="font-size: 2rem; color: #e74c3c;" id="answerWord"></div>
        </div>

        <div class="controls">
            <button class="btn btn-nav" onclick="prevCard()">â¬… ä¸Šä¸€é¡Œ</button>
            <button class="btn btn-show" onclick="toggleAnswer()" id="toggleBtn">ğŸ‘ï¸ çœ‹ç­”æ¡ˆ</button>
            <button class="btn btn-nav" onclick="nextCard()">ä¸‹ä¸€é¡Œ â¡</button>
        </div>
    </div>

    <script>
        // å®Œæ•´è³‡æ–™åº« (åŒ…å«èªè©ã€è§£é‡‹ã€ä¾‹å¥)
        const database = [
            { word: "é‚æ­¥", def: "æèµ·è…³å‘å‰å¤§æ­¥èµ°ã€‚", sentence: "è½åˆ°é›†åˆçš„å“¨éŸ³ï¼Œå¤§å®¶ç«‹åˆ»é‚æ­¥å‘æ“å ´è·‘å»ã€‚" },
            { word: "æ¢ç´‹", def: "ç‰©é«”è¡¨é¢æ¢ç‹€çš„ç´‹è·¯ã€‚", sentence: "æ–‘é¦¬èº«ä¸Šé»‘ç™½ç›¸é–“çš„æ¢ç´‹ï¼Œåœ¨è‰åŸä¸Šéå¸¸é¡¯çœ¼ã€‚" },
            { word: "å¼µæœ›", def: "å‘å››å‘¨æˆ–é è™•çœ‹ã€‚", sentence: "ä»–ç«™åœ¨è·¯å£å››è™•å¼µæœ›ï¼Œä¼¼ä¹åœ¨å°‹æ‰¾èµ°å¤±çš„å¯µç‰©ã€‚" },
            { word: "çµç‰©", def: "è¢«çµäººæˆ–é‡ç¸æ•é£Ÿçš„å‹•ç‰©ã€‚", sentence: "è€é·¹åœ¨å¤©ç©ºä¸­ç›¤æ—‹ï¼ŒéŠ³åˆ©çš„çœ¼ç›ç·Šç›¯è‘—åœ°é¢çš„çµç‰©ã€‚" },
            { word: "è‰å¢", def: "èšç”Ÿåœ¨ä¸€èµ·çš„è‰ã€‚", sentence: "å°è²“èº²åœ¨è‰å¢è£¡ï¼Œæº–å‚™çµ¦ç¶“éçš„è´è¶ä¸€å€‹é©šå–œã€‚" },
            { word: "ç¸«éš™", def: "è£‚é–‹æˆ–æ¥åˆè™•çš„ç©ºéš™ã€‚", sentence: "é™½å…‰é€éçª—ç°¾çš„ç¸«éš™ç…§é€²æˆ¿é–“ï¼Œå¸¶ä¾†ä¸€çµ²æš–æ„ã€‚" },
            { word: "å½·å½¿", def: "ä¼¼ä¹ã€å¥½åƒã€‚", sentence: "é€™è£¡çš„é¢¨æ™¯å¦‚ç•«ï¼Œè®“äººå½·å½¿ç½®èº«æ–¼ä»™å¢ƒä¹‹ä¸­ã€‚" },
            { word: "é€ƒç«„", def: "äº‚è·‘ã€é€ƒèµ°ï¼ˆé€šå¸¸æŒ‡å°å‹•ç‰©ï¼‰ã€‚", sentence: "è€é¼ ä¸€çœ‹åˆ°è²“ï¼Œç«‹åˆ»()é€²æ´è£¡ä¸è¦‹äº†ã€‚" },
            { word: "æ€¥ä¸­ç”Ÿæ™º", def: "åœ¨ç·Šæ€¥æƒ…æ³ä¸‹ï¼Œçªç„¶æƒ³å‡ºæ‡‰è®Šçš„å¥½è¾¦æ³•ã€‚", sentence: "çœ¼çœ‹å°±è¦é²åˆ°äº†ï¼Œä»–æ€¥ä¸­ç”Ÿæ™ºï¼Œæ”¹é¨è…³è¸è»ŠæŠ„è¿‘è·¯å»å­¸æ ¡ã€‚" },
            { word: "é•é€†", def: "é•èƒŒã€ä¸é †å¾ã€‚", sentence: "åœ¨å¤ä»£ï¼Œè‡£å­æ˜¯ä¸æ•¢é•é€†çš‡å¸å‘½ä»¤çš„ã€‚" },
            { word: "æ—¨æ„", def: "é•·å®˜ã€å¸ç‹æˆ–ç¥çš„å‘½ä»¤ã€‚", sentence: "å°‡è»å®£è®€äº†åœ‹ç‹çš„æ—¨æ„ï¼Œè¦æ±‚å£«å…µå€‘åŠ å¼·é‚Šå¢ƒé˜²å®ˆã€‚" },
            { word: "æ‚ é–’", def: "é–’é©è‡ªå¾—è€Œä¸å—ç‰½çµ†ã€‚", sentence: "çˆºçˆºé€€ä¼‘å¾Œï¼Œéè‘—é¤ŠèŠ±é›é³¥çš„æ‚ é–’ç”Ÿæ´»ã€‚" },
            { word: "è½è’è€Œé€ƒ", def: "å½¢å®¹æˆ°æ•—æˆ–å¤±æ•—å¾Œï¼Œå€‰çš‡ç‹¼ç‹½çš„é€ƒèµ°ã€‚", sentence: "æ•µè»è¢«æˆ‘æ–¹çªè¥²ï¼Œåš‡å¾—ä¸Ÿç›”æ£„ç”²ï¼Œè½è’è€Œé€ƒã€‚" },
            { word: "å¯“è¨€", def: "å¯„è¨—å‹¸èª¡æˆ–è«·åˆºæ„å‘³çš„æ•…äº‹ã€‚", sentence: "ã€Šä¼Šç´¢å¯“è¨€ã€‹è£¡æœ‰å¾ˆå¤šé—œæ–¼å‹•ç‰©çš„ç²¾å½©æ•…äº‹ï¼Œè˜Šå«è‘—æ·±åˆ»çš„é“ç†ã€‚" },
            { word: "é·¸èšŒç›¸çˆ­", def: "æ¯”å–»é›™æ–¹çˆ­åŸ·ä¸ä¼‘ï¼Œçµæœå…©æ•—ä¿±å‚·ï¼Œè®“ç¬¬ä¸‰è€…ç²åˆ©ã€‚", sentence: "ä½ å€‘å…©å€‹åˆ¥å†åµäº†ï¼Œå°å¿ƒé·¸èšŒç›¸çˆ­ï¼Œæœ€å¾Œè®“å°æ‰‹å äº†ä¾¿å®œã€‚" },
            { word: "ç‹¡å…”ä¸‰çªŸ", def: "æ¯”å–»äººæœ‰å¤šè™•è—èº«çš„åœ°æ–¹æˆ–å¤šç¨®é¿ç¦çš„æº–å‚™ã€‚", sentence: "ç‚ºäº†å®‰å…¨èµ·è¦‹ï¼Œé€™åå«ŒçŠ¯ç‹¡å…”ä¸‰çªŸï¼Œè­¦æ–¹èŠ±äº†å¥½å¤§åŠ›æ°£æ‰æŠ“åˆ°ä»–ã€‚" },
            { word: "ç‹å‡è™å¨", def: "æ¯”å–»æ†‘è—‰æœ‰æ¬Šå‹¢è€…çš„å¨å‹¢æåš‡æˆ–æ¬ºå£“åˆ¥äººã€‚", sentence: "ä»–ç¸½æ˜¯ä»—è‘—çˆ¶è¦ªæ˜¯ç¶“ç†å°±ç‹å‡è™å¨ï¼Œæ¬ºè² æ–°ä¾†çš„åŒäº‹ã€‚" },
            { word: "ç‹¡çŒ¾", def: "è©­è©åˆé‘½ï¼Œä¸å¯ä¿¡ä»»ã€‚", sentence: "ç‹ç‹¸æ˜¯ä¸€ç¨®éå¸¸ç‹¡çŒ¾çš„å‹•ç‰©ï¼Œç¸½èƒ½æƒ³å‡ºè¾¦æ³•é¨™éçµäººã€‚" },
            { word: "ç›²ç›®", def: "æ¯”å–»èªè­˜ä¸æ¸…ï¼Œæ²’æœ‰ä¸€å®šçš„ç›®æ¨™ã€‚", sentence: "æˆ‘å€‘åšäº‹è¦æœ‰è¨ˆç•«ï¼Œä¸èƒ½ç›²ç›®è·Ÿå¾åˆ¥äººçš„æ„è¦‹ã€‚" },
            { word: "æ‹›æ–æ’é¨™", def: "å½¢å®¹å€Ÿåç›®å¤§è‚†å¹å™“ï¼Œä»¥é€²è¡Œè©é¨™ã€‚", sentence: "è­¦æ–¹é€®æ•äº†ä¸€ååœ¨ç¶²è·¯ä¸Šæ‹›æ–æ’é¨™çš„ç”·å­ï¼Œé¿å…æ›´å¤šäººå—å®³ã€‚" },
            { word: "ä¿¡ä»¥ç‚ºçœŸ", def: "æŠŠå‡çš„ç•¶ä½œçœŸçš„ã€‚", sentence: "ä»–ç·¨çš„æ•…äº‹å¤ªé€¼çœŸäº†ï¼Œå¤§å®¶éƒ½ä¿¡ä»¥ç‚ºçœŸï¼Œæ²’äººæ‡·ç–‘ä»–åœ¨èªªè¬Šã€‚" },
            { word: "å½è£", def: "å‡è£ï¼Œæ”¹è£æ©é£¾çœŸæ­£çš„é¢ç›®ã€‚", sentence: "ç¶²è·¯è©é¨™å¸¸æœƒå½è£æˆçŸ¥åæ©Ÿæ§‹ï¼Œé¨™å–æ°‘çœ¾çš„å€‹è³‡ã€‚" },
            { word: "èª‡å¤§", def: "æŠŠäº‹æƒ…èªªå¾—è¶…éåŸæœ‰çš„ç¨‹åº¦ã€‚", sentence: "å»£å‘Šé›–ç„¶å¯ä»¥å®£å‚³ç”¢å“ï¼Œä½†ä¸æ‡‰è©²èª‡å¤§ç™‚æ•ˆèª¤å°æ¶ˆè²»è€…ã€‚" },
            { word: "åˆ†è¾¨", def: "å€åˆ¥ã€è¾¨æ˜ã€‚", sentence: "é€™å°é›™èƒèƒé•·å¾—å¤ªåƒäº†ï¼Œé€£è€å¸«éƒ½å¾ˆé›£åˆ†è¾¨èª°æ˜¯å“¥å“¥ã€èª°æ˜¯å¼Ÿå¼Ÿã€‚" },
            { word: "è¬Šè¨€", def: "ä¸çœŸå¯¦çš„è©±ã€é¨™äººçš„è©±ã€‚", sentence: "è¬Šè¨€çµ‚ç©¶æœƒè¢«æ‹†ç©¿ï¼Œåšäººé‚„æ˜¯èª å¯¦æœ€é‡è¦ã€‚" },
            { word: "è«·åˆº", def: "ç”¨å«è“„çš„è©±å˜²ç¬‘æˆ–æ­éœ²ä¸åˆç†çš„äº‹ã€‚", sentence: "é€™éƒ¨é›»å½±ç”¨å¹½é»˜çš„æ‰‹æ³•ï¼Œè«·åˆºäº†ç¾ä»£äººæ²ˆè¿·æ‰‹æ©Ÿçš„ç¾è±¡ã€‚" },
            { word: "ä½œå¨ä½œç¦", def: "è—‰è‘—æ¬Šå‹¢æ¬ºå£“åˆ¥äººã€‚", sentence: "é‚£å€‹æƒ¡éœ¸åœ¨é„‰é‡Œé–“ä½œå¨ä½œç¦ï¼Œæ‘æ°‘å€‘éƒ½å°ä»–æ•¢æ€’ä¸æ•¢è¨€ã€‚" },
            { word: "è­¦æƒ•", def: "å°å¯èƒ½ç™¼ç”Ÿçš„å±éšªæƒ…æ³ä¿æŒæ•éŠ³çš„æ„Ÿè¦ºã€‚", sentence: "æˆ‘å€‘éš¨æ™‚éƒ½è¦ä¿æŒè­¦æƒ•ï¼Œä»¥å…ç™¼ç”Ÿæ„å¤–ã€‚" },
            { word: "è§€å¯Ÿ", def: "ä»”ç´°å¯Ÿçœ‹ã€‚", sentence: "ç§‘å­¸å®¶éœ€è¦å…·å‚™æ•éŠ³çš„è§€å¯ŸåŠ›ï¼Œæ‰èƒ½ç™¼ç¾å¾®å°çš„è®ŠåŒ–ã€‚" },
            { word: "è’™è”½", def: "æ¬ºé¨™ã€éš±çäº‹å¯¦ï¼Œä½¿äººçœ‹ä¸æ¸…çœŸç›¸ã€‚", sentence: "ä¸è¦è¢«è¡¨é¢çš„åˆ©ç›Šè’™è”½äº†é›™çœ¼ï¼Œè€Œåšå‡ºäº†éŒ¯èª¤çš„æ±ºå®šã€‚" },
            { word: "è™›å¼µè²å‹¢", def: "å‡è£å‡ºå¼·å¤§çš„æ°£å‹¢ä¾†åš‡å”¬äººã€‚", sentence: "å°æ–¹åªæ˜¯åœ¨è™›å¼µè²å‹¢ï¼Œå…¶å¯¦ä»–å€‘æ ¹æœ¬æ²’æœ‰è´çš„æŠŠæ¡ã€‚" }
        ];

        let currentIndex = 0;
        let isRevealed = false;
        let questions = [];

        // åˆå§‹åŒ–
        window.onload = function() {
            // æ¯æ¬¡é‡æ–°æ•´ç†éƒ½éš¨æ©Ÿæ´—ç‰Œ
            questions = shuffleArray([...database]);
            document.getElementById('totalNum').innerText = questions.length;
            loadCard();
        };

        function loadCard() {
            const data = questions[currentIndex];
            isRevealed = false;

            // æ›´æ–°é€²åº¦
            document.getElementById('currentNum').innerText = currentIndex + 1;
            const percentage = ((currentIndex + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = percentage + "%";

            // æ›´æ–°å…§å®¹
            document.getElementById('defText').innerText = data.def;
            
            // è™•ç†ä¾‹å¥æŒ–ç©ºï¼šå°‡èªè©æ›¿æ›ç‚ºåº•ç·š
            // ä½¿ç”¨ split + join ç¢ºä¿æ›¿æ›æ‰€æœ‰å‡ºç¾çš„è©
            const clozeSentence = data.sentence.split(data.word).join(`<span class="blank">______</span>`);
            document.getElementById('sentenceText').innerHTML = clozeSentence;

            // éš±è—ç­”æ¡ˆå€
            document.getElementById('answerArea').classList.add('hidden');
            document.getElementById('answerWord').innerText = data.word;
            document.getElementById('toggleBtn').innerText = "ğŸ‘ï¸ çœ‹ç­”æ¡ˆ";
            document.getElementById('toggleBtn').classList.remove('hidden');
        }

        function toggleAnswer() {
            const data = questions[currentIndex];
            const blanks = document.querySelectorAll('.blank');
            
            if (!isRevealed) {
                // é¡¯ç¤ºç­”æ¡ˆ
                document.getElementById('answerArea').classList.remove('hidden');
                document.getElementById('toggleBtn').innerText = "ğŸ™ˆ éš±è—ç­”æ¡ˆ";
                
                // å°‡ä¾‹å¥ä¸­çš„åº•ç·šå¡«å…¥æ–‡å­—
                blanks.forEach(span => {
                    span.innerText = data.word;
                    span.classList.add('revealed');
                });

                isRevealed = true;
            } else {
                // éš±è—ç­”æ¡ˆ
                document.getElementById('answerArea').classList.add('hidden');
                document.getElementById('toggleBtn').innerText = "ğŸ‘ï¸ çœ‹ç­”æ¡ˆ";
                
                // å°‡ä¾‹å¥é‚„åŸç‚ºåº•ç·š
                blanks.forEach(span => {
                    span.innerText = "______";
                    span.classList.remove('revealed');
                });

                isRevealed = false;
            }
        }

        function nextCard() {
            if (currentIndex < questions.length - 1) {
                currentIndex++;
                loadCard();
            } else {
                alert("å·²ç¶“æ˜¯æœ€å¾Œä¸€é¡Œå›‰ï¼å°‡é‡æ–°é–‹å§‹ã€‚");
                currentIndex = 0;
                questions = shuffleArray([...database]);
                loadCard();
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                loadCard();
            }
        }

        function playAudio() {
            const text = questions[currentIndex].word;
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'zh-TW';
                utterance.rate = 0.8; // ç¨å¾®æ”¾æ…¢èªé€Ÿ
                window.speechSynthesis.speak(utterance);
            } else {
                alert("æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³åŠŸèƒ½");
            }
        }

        // æ´—ç‰Œæ¼”ç®—æ³•
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>